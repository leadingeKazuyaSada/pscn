# フォルダ構成

## スクリプト

- juman_check.py
    - JUMAN++ の形態素解析を単品の文字列で試すためのスクリプト。
- juman_psc_.py
    - JUMAN++ を台本解析用に拡張したサブクラス。
    - JUMAN++ でエラーになる文字列を極力エラーにならないよう形態素解析する。
- juman_settings.py
    - JumanPsc の初期値を定義している。
- morph_test.py
    - juman_util.py を使って、各ファイルが形態素解析可能かを検査するスクリプト。
    - 形態素解析不可能なファイルについては、エラーになった行をレポートする。
- mrph_match.py
    - 形態素列をマッチングするためのモジュール。
- make_features.py
    - 複数の台本ファイルを一括で、形態素解析～特徴量抽出までするツール。
    - 形態素解析不可能なファイルについては、エラーになった行をレポートする。

## フォルダ

- script_samples/
    - 特徴量の取り出し元となる台本ファイル (txt) を入れておくフォルダ。
- script_features/
    - 台本ごとの特徴量ファイル (csv) を保存するフォルダ。
- script_rawdata/
    - 生の台本データ (txt) を入れておくフォルダ。
    - 形態素解析可能と分かったデータは、`script_samples/` に移す。

# 解析手順

## 台本データの準備

1. 台本のテキストファイルを `script_rawdata/` に入れておく。
1. `morph_test.py` を実行する。
1. エラーが出たら、データまたはスクリプトを修正する。
1. データのみ修正した場合
    - エラーが出なかったファイルを `script_samples/` に移す。
1. スクリプトを修正した場合
    - `script_samples/` にあるファイルを `script_rawdata/` に戻す。
1. すべてのファイルが `script_samples/` に入るまで2～5を繰り返す。

## 特徴量の取り出し

1. "台本データの準備" の手順を実施して、台本データが `script_samples/` にあるようにする。
1. `make_features.py` を実行する。

## 教師データの準備

