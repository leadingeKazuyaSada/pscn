# 予定

## データチェック

'\x1a'
- JUMAN++ がフリーズしてしまう。
- 前処理で、この1文字のみを含む行は削除する。

入力文字列が4096バイトを超える場合
- invalid literal for int() with base 10: 'input'
- 形態素解析する時に、最初の「。」までが4096バイト以内なら、分割する (以降、再帰的に分割)。

' っ' (半角スペース + 小さい「つ」)
- invalid literal for int() with base 10: '特殊'
- ただし、「って」などと続く場合はエラーにならない。
- 全角スペース + 「っ」だと、エラーにはならないが「っ」が無視される。
- 形態素解析する時に、スペースまでと「っ」以降に分ける。

'(_ _)' などの記号 (顔文字)
- invalid literal for int() with base 10: '(_'
- 連続しない半角スペースは、全角スペースに置き換える。

## 制作

- morph_test.py
    - juman_util.py を使って、各ファイルが形態素解析可能かを検査するスクリプト。
    - 形態素解析不可能なファイルについては、エラーになった行をレポートする。
- make_features.py
    - 複数の台本ファイルを一括で、形態素解析～特徴量抽出までするツール。
    - 形態素解析不可能なファイルについては、エラーになった行をレポートする。
- mrph_match.py
    - 形態素列をマッチングするためのモジュール。
- juman_psc_.py
    - JUMAN++ を台本解析用に拡張したサブクラス。
    - JUMAN++ でエラーになる文字列を極力エラーにならないよう形態素解析する。
- juman_check.py
    - JUMAN++ の形態素解析を単品の文字列で試すためのスクリプト。

## 経緯

- 動機については pscn プロジェクトの [GitHub Pages](https://satamame.github.io/pscn/) を参照ください。
- JUMAN++ を選んだ理由
    - 最初は JUAMN を使ったが、精度が悪いように感じた。
    - 最初に JUMAN を使った理由は、長音を吸収してくれるから (「すごーい」等)。
